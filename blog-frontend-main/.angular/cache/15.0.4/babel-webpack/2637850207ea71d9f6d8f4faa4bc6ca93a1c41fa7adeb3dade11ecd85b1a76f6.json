{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/service/postapi.service\";\nimport * as i3 from \"@angular/common\";\nfunction AddPostComponent_a_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 29);\n    i0.ɵɵtext(1, \"Manage Users\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class AddPostComponent {\n  constructor(router, service) {\n    this.router = router;\n    this.service = service;\n    this.imageUrl = \"/assets/img/noimage.png\";\n    this.userRole = localStorage.getItem(\"userRole\");\n    this.loginStatus = localStorage.getItem(\"loginStatus\");\n  }\n  addPost(postId, title, content, categoryId) {\n    let userId = localStorage.getItem(\"userId\");\n    this.service.addPost(postId, title, content, this.files[0], categoryId, userId).subscribe(response => {\n      console.log(response);\n      alert('new post added successfully!!');\n      window.location.reload();\n    });\n    //console.log(this.post);\n  }\n\n  handleFileInput(event) {\n    this.target = event.target;\n    this.files = this.target.files;\n    //console.log(this.files);\n  }\n}\n\nAddPostComponent.ɵfac = function AddPostComponent_Factory(t) {\n  return new (t || AddPostComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.PostapiService));\n};\nAddPostComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AddPostComponent,\n  selectors: [[\"app-add-post\"]],\n  decls: 64,\n  vars: 1,\n  consts: [[1, \"container\"], [1, \"btn\", \"btn-primary\", \"float-end\"], [1, \"jumbotron\"], [1, \"display-4\"], [1, \"lead\"], [\"href\", \"/manage-posts\", \"role\", \"button\", 1, \"btn\", \"btn-primary\", \"btn-sm\"], [\"href\", \"/manage-comments\", \"role\", \"button\", 1, \"btn\", \"btn-primary\", \"btn-sm\"], [\"class\", \"btn btn-primary btn-sm\", \"href\", \"/manage-users\", \"role\", \"button\", 4, \"ngIf\"], [1, \"mb-3\"], [\"for\", \"exampleFormControlInput1\", 1, \"form-label\"], [\"type\", \"number\", \"id\", \"exampleFormControlInput1\", \"placeholder\", \"Enter post Id\", \"required\", \"\", 1, \"form-control\"], [\"postId\", \"\"], [\"type\", \"text\", \"id\", \"exampleFormControlInput1\", \"placeholder\", \"Enter post title\", \"required\", \"\", 1, \"form-control\"], [\"title\", \"\"], [\"for\", \"exampleFormControlTextarea1\", 1, \"form-label\"], [\"id\", \"exampleFormControlTextarea1\", \"placeholder\", \"Enter post Content\", \"rows\", \"3\", \"required\", \"\", 1, \"form-control\"], [\"content\", \"\"], [\"type\", \"file\", \"accept\", \"image/*\", \"name\", \"image\", \"id\", \"exampleFormControlInput1\", \"placeholder\", \"Enter post title\", \"required\", \"\", 1, \"form-control\", 3, \"change\"], [\"image\", \"\"], [\"aria-label\", \"Default select example\", \"required\", \"\", 1, \"form-select\"], [\"categoryId\", \"\"], [\"selected\", \"\"], [\"value\", \"1\"], [\"value\", \"2\"], [\"value\", \"3\"], [\"value\", \"4\"], [\"value\", \"5\"], [\"type\", \"Submit\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [\"type\", \"Reset\", 1, \"btn\", \"btn-secondary\"], [\"href\", \"/manage-users\", \"role\", \"button\", 1, \"btn\", \"btn-primary\", \"btn-sm\"]],\n  template: function AddPostComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r6 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"br\");\n      i0.ɵɵelementStart(2, \"button\", 1);\n      i0.ɵɵtext(3, \"Logout\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 2)(5, \"h1\", 3);\n      i0.ɵɵtext(6, \"Manage Post\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"p\", 4)(8, \"a\", 5);\n      i0.ɵɵtext(9, \"Manage Posts\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(10, \"\\u00A0 \");\n      i0.ɵɵelementStart(11, \"a\", 6);\n      i0.ɵɵtext(12, \"Manage Comments\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(13, \"\\u00A0 \");\n      i0.ɵɵtemplate(14, AddPostComponent_a_14_Template, 2, 0, \"a\", 7);\n      i0.ɵɵtext(15, \"\\u00A0 \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(16, \"br\")(17, \"br\");\n      i0.ɵɵelementStart(18, \"h3\");\n      i0.ɵɵtext(19, \"Add New Post\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"div\", 8)(21, \"label\", 9);\n      i0.ɵɵtext(22, \"Post Id\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(23, \"input\", 10, 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"div\", 8)(26, \"label\", 9);\n      i0.ɵɵtext(27, \"Post Title\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(28, \"input\", 12, 13);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"div\", 8)(31, \"label\", 14);\n      i0.ɵɵtext(32, \"Post Content\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(33, \"textarea\", 15, 16);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"div\", 8)(36, \"label\", 9);\n      i0.ɵɵtext(37, \"Post Image\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(38, \"input\", 17, 18);\n      i0.ɵɵlistener(\"change\", function AddPostComponent_Template_input_change_38_listener($event) {\n        return ctx.handleFileInput($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(40, \"div\", 8)(41, \"label\", 9);\n      i0.ɵɵtext(42, \"Category\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(43, \"select\", 19, 20)(45, \"option\", 21);\n      i0.ɵɵtext(46, \"Open this select menu\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(47, \"option\", 22);\n      i0.ɵɵtext(48, \"Java\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(49, \"option\", 23);\n      i0.ɵɵtext(50, \"Python\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(51, \"option\", 24);\n      i0.ɵɵtext(52, \"Data Science\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(53, \"option\", 25);\n      i0.ɵɵtext(54, \"AI\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(55, \"option\", 26);\n      i0.ɵɵtext(56, \"ML\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(57, \"div\", 8)(58, \"button\", 27);\n      i0.ɵɵlistener(\"click\", function AddPostComponent_Template_button_click_58_listener() {\n        i0.ɵɵrestoreView(_r6);\n        const _r1 = i0.ɵɵreference(24);\n        const _r2 = i0.ɵɵreference(29);\n        const _r3 = i0.ɵɵreference(34);\n        const _r5 = i0.ɵɵreference(44);\n        return i0.ɵɵresetView(ctx.addPost(_r1.value, _r2.value, _r3.value, _r5.value));\n      });\n      i0.ɵɵtext(59, \"Add New Post\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(60, \"\\u00A0 \");\n      i0.ɵɵelementStart(61, \"button\", 28);\n      i0.ɵɵtext(62, \"Reset\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(63, \"br\");\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"ngIf\", ctx.userRole == \"ADMIN\");\n    }\n  },\n  dependencies: [i3.NgIf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;IASIA,6BAA+F;IAAAA,4BAAY;IAAAA,iBAAI;;;ACCnH,OAAM,MAAOC,gBAAgB;EAS3BC,YAAoBC,MAAa,EAAUC,OAAsB;IAA7C,WAAM,GAAND,MAAM;IAAiB,YAAO,GAAPC,OAAO;IANlD,aAAQ,GAAW,yBAAyB;IAI5C,aAAQ,GAAKC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;IAC7C,gBAAW,GAAKD,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC;EAInD;EAGAC,OAAO,CAACC,MAAU,EAACC,KAAS,EAACC,OAAW,EAACC,UAAc;IAErD,IAAIC,MAAM,GAACP,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;IACzC,IAAI,CAACF,OAAO,CAACG,OAAO,CAACC,MAAM,EAACC,KAAK,EAACC,OAAO,EAAC,IAAI,CAACG,KAAK,CAAC,CAAC,CAAC,EAACF,UAAU,EAACC,MAAM,CAAC,CAACE,SAAS,CAClFC,QAAQ,IAAG;MAACC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;MAChCG,KAAK,CAAC,+BAA+B,CAAC;MACtCC,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE;IACzB,CAAC,CACF;IAED;EAEF;;EAEAC,eAAe,CAACC,KAAY;IAC1B,IAAI,CAACC,MAAM,GAAGD,KAAK,CAACC,MAA0B;IAC9C,IAAI,CAACX,KAAK,GAAG,IAAI,CAACW,MAAM,CAACX,KAAiB;IAC1C;EAEF;;;AAlCWZ,gBAAgB;mBAAhBA,gBAAgB;AAAA;AAAhBA,gBAAgB;QAAhBA,gBAAgB;EAAAwB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;;MDV7B7B,8BAAuB;MACnBA,qBAAI;MAENA,iCAA2C;MAAAA,sBAAM;MAAAA,iBAAS;MAC5DA,8BAAuB;MACCA,2BAAW;MAAAA,iBAAK;MACrCA,4BAAgB;MACsDA,4BAAY;MAAAA,iBAAI;MAAAA,wBACrF;MAAAA,6BAAwE;MAAAA,gCAAe;MAAAA,iBAAI;MAAAA,wBAC3F;MAAAA,+DAA+G;MAAAA,wBACjH;MAAAA,iBAAI;MAENA,sBAAI;MAEJA,2BAAI;MAAAA,6BAAY;MAAAA,iBAAK;MACrBA,+BAAkB;MAC2CA,wBAAO;MAAAA,iBAAQ;MACxEA,iCAAsH;MACxHA,iBAAM;MACNA,+BAAkB;MACyCA,2BAAU;MAAAA,iBAAQ;MAC3EA,iCAAqH;MACvHA,iBAAM;MACNA,+BAAkB;MAC4CA,6BAAY;MAAAA,iBAAQ;MAChFA,oCAAuI;MACzIA,iBAAM;MACNA,+BAAkB;MACyCA,2BAAU;MAAAA,iBAAQ;MAC3EA,sCAAsL;MAArIA;QAAA,OAAU8B,2BAAuB;MAAA,EAAC;MAAnF9B,iBAAsL;MAExLA,+BAAkB;MACyCA,yBAAQ;MAAAA,iBAAQ;MACzEA,uCAAqF;MAChEA,sCAAqB;MAAAA,iBAAS;MAC/CA,mCAAkB;MAAAA,qBAAI;MAAAA,iBAAS;MAC/BA,mCAAkB;MAAAA,uBAAM;MAAAA,iBAAS;MACjCA,mCAAkB;MAAAA,6BAAY;MAAAA,iBAAS;MACvCA,mCAAkB;MAAAA,mBAAE;MAAAA,iBAAS;MAC7BA,mCAAkB;MAAAA,mBAAE;MAAAA,iBAAS;MAGrCA,+BAAkB;MAEgCA;QAAAA;QAAA;QAAA;QAAA;QAAA;QAAA,OAASA,sEAAgE;MAAA,EAAC;MAACA,6BAAY;MAAAA,iBAAS;MAAAA,wBAC9I;MAAAA,mCAA+C;MAAAA,sBAAK;MAAAA,iBAAS;MAEjEA,sBAAI;MACJA,iBAAM;;;MAvCoEA,gBAAuB;MAAvBA,8CAAuB","names":["i0","AddPostComponent","constructor","router","service","localStorage","getItem","addPost","postId","title","content","categoryId","userId","files","subscribe","response","console","log","alert","window","location","reload","handleFileInput","event","target","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Edubridge-Final-project\\Main Project\\blog-frontend-main\\blog-frontend-main (1)\\blog-frontend-main\\src\\app\\component\\add-post\\add-post.component.html","C:\\Edubridge-Final-project\\Main Project\\blog-frontend-main\\blog-frontend-main (1)\\blog-frontend-main\\src\\app\\component\\add-post\\add-post.component.ts"],"sourcesContent":["<div class=\"container\">\n    <br>\n  \n  <button class=\"btn btn-primary float-end \">Logout</button>\n<div class=\"jumbotron\">\n  <h1 class=\"display-4\">Manage Post</h1>\n   <p class=\"lead\">\n    <a class=\"btn btn-primary btn-sm\" href=\"/manage-posts\" role=\"button\">Manage Posts</a>&nbsp;\n    <a class=\"btn btn-primary btn-sm\" href=\"/manage-comments\" role=\"button\">Manage Comments</a>&nbsp;\n    <a class=\"btn btn-primary btn-sm\" href=\"/manage-users\" role=\"button\" *ngIf=\"userRole=='ADMIN'\">Manage Users</a>&nbsp;\n  </p>\n</div>\n<br><br>\n\n<h3>Add New Post</h3>\n<div class=\"mb-3\">\n    <label for=\"exampleFormControlInput1\" class=\"form-label\">Post Id</label>\n    <input type=\"number\" class=\"form-control\" id=\"exampleFormControlInput1\" placeholder=\"Enter post Id\"  required #postId>\n  </div>\n  <div class=\"mb-3\">\n    <label for=\"exampleFormControlInput1\" class=\"form-label\">Post Title</label>\n    <input type=\"text\" class=\"form-control\" id=\"exampleFormControlInput1\" placeholder=\"Enter post title\" required #title>\n  </div>  \n  <div class=\"mb-3\">\n    <label for=\"exampleFormControlTextarea1\" class=\"form-label\">Post Content</label>\n    <textarea class=\"form-control\" id=\"exampleFormControlTextarea1\" placeholder=\"Enter post Content\" rows=\"3\" required #content></textarea>\n  </div>\n  <div class=\"mb-3\">\n    <label for=\"exampleFormControlInput1\" class=\"form-label\">Post Image</label>\n    <input type=\"file\" accept=\"image/*\" name=\"image\" (change)=\"handleFileInput($event)\" class=\"form-control\" id=\"exampleFormControlInput1\" placeholder=\"Enter post title\" required #image>\n  </div> \n  <div class=\"mb-3\">\n    <label for=\"exampleFormControlInput1\" class=\"form-label\">Category</label>\n    <select class=\"form-select\" aria-label=\"Default select example\" required #categoryId>\n        <option selected>Open this select menu</option>\n        <option value=\"1\">Java</option>\n        <option value=\"2\">Python</option>\n        <option value=\"3\">Data Science</option>\n        <option value=\"4\">AI</option>\n        <option value=\"5\">ML</option>\n      </select>\n</div>\n<div class=\"mb-3\">\n    \n    <button type=\"Submit\" class=\"btn btn-primary\" (click)=\"addPost(postId.value,title.value,content.value,categoryId.value)\">Add New Post</button>&nbsp;\n    <button type=\"Reset\" class=\"btn btn-secondary\">Reset</button>\n  </div>\n<br>\n</div>\n\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Post } from 'src/app/model/Post';\nimport { PostapiService } from 'src/app/service/postapi.service';\n\n@Component({\n  selector: 'app-add-post',\n  templateUrl: './add-post.component.html',\n  styleUrls: ['./add-post.component.css']\n})\nexport class AddPostComponent {\n \n  post:Post | undefined;\n  imageUrl: string = \"/assets/img/noimage.png\";\n  fileToUpload: any;\n  files:any;\n  target:any;\n  userRole:any=localStorage.getItem(\"userRole\");\n  loginStatus:any=localStorage.getItem(\"loginStatus\");\n  constructor(private router:Router, private service:PostapiService)\n  {\n\n  }\n\n\n  addPost(postId:any,title:any,content:any,categoryId:any)\n  {\n    let userId=localStorage.getItem(\"userId\");\n    this.service.addPost(postId,title,content,this.files[0],categoryId,userId).subscribe(\n      response =>{console.log(response);\n       alert('new post added successfully!!');\n       window.location.reload();\n      }\n    );\n\n    //console.log(this.post);\n  \n  }\n\n  handleFileInput(event: Event) {\n    this.target = event.target as HTMLInputElement;\n    this.files = this.target.files as FileList;\n    //console.log(this.files);\n    \n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}